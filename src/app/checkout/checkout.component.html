<!-- src/app/pages/checkout/checkout.component.html -->
<div class="checkout-page">
    <h2>Checkout</h2>
    <p>You have {{ (totalItems | async) || 0 }} item(s) in your cart.</p>
  
    <div *ngIf="cartItems.length === 0" class="empty-message">
      Your cart is empty.
    </div>
  
    <div *ngIf="cartItems.length > 0" class="checkout-list">
      <div class="checkout-item" *ngFor="let item of cartItems">
        <img [src]="item.product.images[0]" alt="{{ item.product.name }}" />
        <div class="details">
          <div class="name">{{ item.product.name }}</div>
          <div class="quantity">Quantity: {{ item.quantity }}</div>
          <div class="price-per">Price: €{{ item.product.price }}/ea.</div>
          <div class="subtotal">Subtotal: €{{ item.subtotal }}</div>
        </div>
      </div>
      <div class="total-block">
        <strong>Total Items:</strong> {{ (totalItems | async) }}<br />
        <strong>Total Price:</strong>
        €{{ totalPrice }}
      </div>
  
      <button mat-raised-button color="primary" class="pay-button" (click)="handlePayment()">
        Proceed to Payment
      </button>
    </div>
  </div>
  